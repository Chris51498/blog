<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>查看文章</title>

<link rel="stylesheet" href="editor/css/editormd.preview.css" />
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
#test {
	width: 800px;
	margin: 0 auto;
}

#yc_login_1{
				width: 400px;
				text-align:center;
				margin: 0 auto;
			}
			
			#yc_personal_1{
				width: 210px; 
				height: 250px;
				position: fixed;
				top: 150px;
				left: 310px;
			}
			
			
			#yc_page a{
				border-radius:50%;
				margin-left:15px;
				color:#999;
			}
			
			
			
			
			.list-group-horizontal .list-group-item {
				display: inline-block;
			}
			.list-group-horizontal .list-group-item {
				margin-bottom: 0;
				margin-left:-4px;
				margin-right: 0;
			}
			.list-group-horizontal .list-group-item:first-child {
				border-top-right-radius:0;
				border-bottom-left-radius:4px;
			}
			.list-group-horizontal .list-group-item:last-child {
				border-top-right-radius:4px;
				border-bottom-left-radius:0;
			}
			
</style>
</head>
<body>	<!-- 左侧第一个框 -->
			<div id="yc_personal_1">
				<!-- 导航 -->
				<ul class="list-group">
					<a href="index.html" class="list-group-item active" style="background:black;text-align:center;height:100px">
					        <h4 class="list-group-item-heading" style="margin-top:15px">MyBlog</h4>
					        <h6 style="margin-top:20px">心有猛虎，细嗅蔷薇</h6>
					</a>
					
				    <a href="index.html" class="list-group-item">
				    	<span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;&nbsp;&nbsp;home
					</a>
						
				    <a href="about.html" class="list-group-item">
						<span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;&nbsp;&nbsp;about
					</a>
					
					<a href="list.html" class="list-group-item">
				        <span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;&nbsp;&nbsp;file
				    </a>
					
				   <!-- 分类下拉列表 -->
				    <div id="yc_tags">
					    <li class="dropdown" style="list-style:none;">
						    <a href="#" class="list-group-item dropdown-toggle" data-toggle="dropdown">
								<span class="glyphicon glyphicon-th"></span>&nbsp;&nbsp;&nbsp;&nbsp;tags
							</a>
							<a><span class="caret"></span></a>
							
					        <ul class="dropdown-menu" style="width:210px;height:120px">
					            <li>
					                <a href="list.html#1"  class="list-group-item" style="height:38px;line-height:34px;margin-top:-3px">
								       <span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;&nbsp;&nbsp;Java
								    </a>
								</li>
								
					            <li>
					                <a href="list.html#2"  class="list-group-item" style="height:38px;line-height:34px">
								       <span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;&nbsp;&nbsp;数据库
								    </a>
								</li>
								
					            <li>
					                <a href="list.html#3" class="list-group-item" style="height:38px;line-height:34px">
								       <span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;&nbsp;&nbsp;前端
								    </a>
								</li>
								
								<li>
					                <a href="list.html#4" class="list-group-item" style="height:38px;line-height:34px">
								       <span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;&nbsp;&nbsp;生活
								    </a>
								</li>
					        </ul>
					    </li>
				    </div>   
				    
				    
				    
				    
				    <!-- 左侧第二个框 -->
				    <div id="yc_personal_2" style="width:210px;height:300px;border: 1px solid #ddd;">
				    
				    <!-- 用户信息（头像，文章各类统计） -->
				    	<div id="yc_author" style="width:208px;height:220px;background-color:#fff;">
				    		<img src="imgs/me.jpg" class="img-circle img-responsive" style="width:110px;margin:0 auto;padding-top:10px;">
				    		<p style="width:210px;text-align:center;padding-top:5px;font-size:15px;font-weight: bold">MyBlog</p>
				    		<p style="width:210px;text-align:center;font-size:8px;color:#999">全栈工程师</p>
				    		
				    		<!-- 分类统计 -->
				    		<div class="row" style="width:210px;margin-left:0px">
			
					            <div class="list-group list-group-horizontal" style="margin-bottom:0px">
					            	<div class="list-group-item" style="padding:0 0 0 1px;width:50px;margin-left:0px;border:0">
					            		<p style="height:10px;text-align:center;font-weight: bold">{{counts[0]}}</p>
					            		<p style="height:10px;text-align:center"><a href="list.html#1" style="font-size:13px;color:#999">Java</a></p>
					            	</div>
					            	
					            	
					            	<div class="list-group-item" style="padding:0 0 0 0;width:50px;margin-left:-1px;border:0">
					            		<p style="height:10px;text-align:center;font-weight: bold">{{counts[1]}}</p>
					            		<p style="height:10px;text-align:center"><a href="list.html#2" style="font-size:13px;color:#999">数据库</a></p>
					            	</div>
					            	
					            	
					            	<div class="list-group-item" style="padding:0 0 0 0;width:50px;margin-left:-1px;border:0">
					            		<p style="height:10px;text-align:center;font-weight: bold">{{counts[2]}}</p>
					            		<p style="height:10px;text-align:center"><a href="list.html#3" style="font-size:13px;color:#999">前端</a></p>
					            	</div>
					            	
					            	
					            	<div class="list-group-item" style="padding:0 0 0 0;width:49px;margin-left:-1px;border:0">
					            		<p style="height:10px;text-align:center;font-weight: bold">{{counts[3]}}</p>
					            		<p style="height:10px;text-align:center"><a href="list.html#4" style="font-size:13px;color:#999">生活</a></p>
					            	</div>
					               
					            </div>
					
							</div>		
				    		
				    	</div>
				    	
				    	<hr style="margin:15px 0 0 0">
				    	
				    	
				    	<!-- 左侧底部链接栏 -->
				    	<div id="yc_link">
				    		<p style="width:208px;text-align:center;font-weight: bold;margin-top:8px;margin-bottom:5px">links</p>
				    		
				    		<!-- github链接 -->
				    		<div id="yc_github" style="">
					    		<span><img src="imgs/github.jpg" style="width:20px;height:20px;padding-bottom:3px;margin-left:25px"/></span>
					    		<a href="https://github.com/Chris51498/blog" target="_blank" style="display:inline-block;width:45px;height:20px;line-height:20px;color:#999">GitHub</a>
					    		
					    		<span><img src="imgs/email.jpg" style="width:16px;height:18px;padding-bottom:3px;margin-left:18px"/></span>
					    		<a href="javascript:email()" style="display:inline-block;width:45px;height:20px;line-height:20px;color:#999">Email</a>
					    		
				    		</div>
				    	</div>
				    	
				    </div>
				    
				</ul>
			</div>

	<div id="test">
		<textarea style="display: none;" id="text"></textarea>
	</div>





	<script src="js/jquery-3.4.1.min.js"></script>
	<script src="editor/lib/marked.min.js"></script>
	<script src="editor/lib/prettify.min.js"></script>
	<script src="editor/lib/raphael.min.js"></script>
	<script src="editor/lib/underscore.min.js"></script>
	<script src="editor/lib/sequence-diagram.min.js"></script>
	<script src="editor/lib/flowchart.min.js"></script>
	<script src="editor/lib/jquery.flowchart.min.js"></script>
	<script src="editor/editormd.js"></script>
	<script src="js/vue.js"></script>
	<script src="js/axios.js"></script>
	<script src="js/qs.js"></script>
	<script type="text/javascript">
	
	var hash=window.location.hash;
	var articleid=hash.replace("#",'');
	
		
		
		LoadArt();
		//加载文章
		function LoadArt(){
			var articleid=this.articleid;
			
			
			//发送请求,获取文章内容
			$.get('article.action?op=findByID',{a_no:articleid},function(data){
				if(data!=null){
					 $("#test").html('<textarea id="text" style="display:none;"></textarea>');
			            var content=data.a_content;//获取需要转换的内容
			            $("#text").html(content);//将需要转换的内容加到转换后展示容器的textarea隐藏标签中
			            
			            editormd.markdownToHTML("test", {
			    			htmlDecode : "style,script,iframe",
			    			emoji : true,
			    			taskList : true,
			    			tex : true, // 默认不解析
			    			flowChart : true, // 默认不解析
			    			sequenceDiagram : true
			    		// 默认不解析
			    		});

				}else{
					alert("加载文章失败");
				}
			},'json');
		}
		
		function email(){
			alert("xujian_xj@qq.com");
		}
		
		//左侧导航  各类文章统计
		var personal = new Vue({
			el:"#yc_personal_2",
			data:{
				counts:{}
			},
			
			methods:{
				
			},
			
			mounted:function(){
				axios.all([findTypeCount()]).then(axios.spread((fn1)=>{
						this.counts=fn1.data;
				}));
			}
			
		});
		
		  
		//查询每个类的文章总数
		function findTypeCount(){
			return axios.get("article.action?op=findTypeCount");
			
		}	
	
		
		
		
	</script>
	


</body>
</html>